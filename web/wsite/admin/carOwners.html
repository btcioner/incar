<!DOCTYPE html>
<html lang="en" ng-app="CarOwnerApp">
<head>
<title>车主</title>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet" href="../css/bootstrap.min.css" />
<link rel="stylesheet" href="../css/bootstrap-responsive.min.css" />
<link rel="stylesheet" href="../css/uniform.css" />
<link rel="stylesheet" href="../css/select2.css" />
<link rel="stylesheet" href="../css/maruti-style.css" />
<link rel="stylesheet" href="../css/maruti-media.css" class="skin-color" />
<link rel="stylesheet" type="text/css" href="../css/mycss/main.css" />
</head>
<body ng-controller="carownerCtrl">

<!--Header-part-->
<div id="header">
  <h1>Admin后台</h1>
</div>
<!--close-Header-part--> 

<!--top-Header-messaages-->
<div class="btn-group rightzero"> <a class="top_message tip-left" title="Manage Files"><i class="icon-file"></i></a> <a class="top_message tip-bottom" title="Manage Users"><i class="icon-user"></i></a> <a class="top_message tip-bottom" title="Manage Comments"><i class="icon-comment"></i><span class="label label-important">5</span></a> <a class="top_message tip-bottom" title="Manage Orders"><i class="icon-shopping-cart"></i></a> </div>
<!--close-top-Header-messaages-->
<!--top-Header-menu-->
<div id="user-nav" class="navbar navbar-inverse">
  <ul class="nav">
  	<li style="color:white;vertical-align:middle; margin-top: 15px;"><span class="text">userAdmin</span></li>
    <li class=""><a title="" href="../login.html"><i class="icon icon-share-alt"></i> <span class="text">Logout</span></a></li>
  </ul>
</div>
<!--close-top-Header-menu-->
<div id="sidebar"><a href="#" class="visible-phone"><i class="icon icon-home"></i>运营后台</a>
    <ul>
        <li class="active"><a href="deviceManage.html?token={{token}}"><i class="icon icon-home"></i> <span>设备管理</span></a> </li>
        <li> <a href="driveData.html?token={{token}}"><i class="icon icon-signal"></i> <span>行车数据</span></a> </li>
        <li> <a href="customer4s.html?token={{token}}"><i class="icon icon-inbox"></i> <span>4S客户</span></a> </li>
        <li><a href="carOwners.html?token={{token}}"><i class="icon icon-th"></i> <span>车主</span></a></li>
        <li><a href="userManage.html?token={{token}}"><i class="icon icon-fullscreen"></i> <span>系统用户</span></a></li>
        <li> <a href="knowledgeBase.html?token={{token}}"><i class="icon icon-th-list"></i> <span>知识库</span></a></li>
    </ul>
</div>
<div id="content" style="height:572px;">
  <div id="content-header">
      <div id="breadcrumb"> <a href="#" title="Go to Home" class="tip-bottom"><i class="icon-home"></i>主页</a> <a href="#" class="current">车主</a> </div>
  </div>
  <div class="container-fluid">
  	<div class="row-fluid" >
      <div class="span12">
          <!--修改车主信息 start-->
          <div class="widget-box" ng-show="carOwnerModifyDiv">
              <div class="widget-title">
                  <span class="icon"><i class="icon-th"></i></span>
                  <h5>修改车主信息</h5>
              </div>
              <div class="widget-content nopadding">
                  <form action="#" method="get" class="form-horizontal">
                      <div class="control-group" >
                          <label class="control-label" style="margin-left:300px;">帐号：</label>
                          <div class="controls">
                              <input type="text" class="span11" style="width:200px;" ng-model="carOwnerDetail.acc_name"  disabled />
                          </div>
                      </div>
                      <div class="control-group" >
                          <label class="control-label" style="margin-left:300px;">车主姓名：</label>
                          <div class="controls">
                              <input type="text" class="span11" style="width:200px;" ng-model="carOwnerDetail.acc_nick" />
                          </div>
                      </div>
                      <div class="control-group" >
                          <label class="control-label" style="margin-left:300px;">车主电话：</label>
                          <div class="controls">
                              <input type="text" class="span11" style="width:200px;" ng-model="carOwnerDetail.acc_phone" />
                          </div>
                      </div>
                      <div class="control-group" >
                          <label class="control-label" style="margin-left:300px;">所属4S店：</label>
                          <div class="controls">
                              <input type="text" class="span11" style="width:200px;" ng-model="carOwnerDetail.org_name" disabled />
                          </div>
                      </div>
                      <div class="control-group" >
                          <label class="control-label" style="margin-left:300px;">OBD编号：</label>
                          <div class="controls">
                              <input type="text" class="span11"  disabled style="width:200px;" ng-model="carOwnerDetail.obd_code"  />
                          </div>
                      </div>
                      <div class="control-group" >
                          <div class="control-group" >
                              <label class="control-label" style="margin-left:300px;">车牌号：</label>
                              <div class="controls">
                                  <input type="text" class="span11" style="width:200px;" ng-model="carOwnerDetail.car_license" disabled/>
                              </div>
                          </div>
                          <label class="control-label" style="margin-left:300px;">车型：</label>
                          <div class="controls">
                              <input type="text" class="span11" style="width:200px;" ng-model="carOwnerDetail.car_brand" disabled />
                          </div>
                      </div>
                      <div class="control-group" >
                          <label class="control-label" style="margin-left:300px;">车款：</label>
                          <div class="controls">
                              <input type="text" class="span11" style="width:200px;" ng-model="carOwnerDetail.car_series" disabled />
                          </div>
                      </div>
                      <div class="form-actions">
                          <button type="button" class="btn btn-success"  style="margin-left:300px;" ng-click="ModifyConfirm();">保存</button>
                          <button type="button" class="btn btn-danger"   ng-click="gotoBack(1)">取消</button>
                      </div>
                  </form>
              </div>
          </div>
          <!--修改车主信息 end-->
          <!--添加车主 start-->
          <div class="widget-box" ng-show="carOwnerAddDiv">
              <div class="widget-title">
                  <span class="icon"><i class="icon-th"></i></span>
                  <h5>添加车主</h5>
              </div>
              <div class="widget-content nopadding">
                  <form action="#" method="get" class="form-horizontal">
                      <div class="control-group" >
                          <label class="control-label" style="margin-left:300px;">帐号：</label>
                          <div class="controls">
                              <input type="text" class="span11" style="width:200px;" ng-model="acc_name"  />
                          </div>
                      </div>
                      <div class="control-group" >
                          <label class="control-label" style="margin-left:300px;">密码：</label>
                          <div class="controls">
                              <input type="text" class="span11" style="width:200px;" ng-model="acc_pwd"  />
                          </div>
                      </div>
                      <div class="control-group" >
                          <label class="control-label" style="margin-left:300px;">车主姓名：</label>
                          <div class="controls">
                              <input type="text" class="span11" style="width:200px;" ng-model="acc_nick" />
                          </div>
                      </div>
                      <div class="control-group" >
                          <label class="control-label" style="margin-left:300px;">车主电话：</label>
                          <div class="controls">
                              <input type="text" class="span11" style="width:200px;" ng-model="acc_phone" />
                          </div>
                      </div>
                      <div class="control-group" >
                          <label class="control-label" style="margin-left:300px;">所属4S店：</label>
                          <div class="controls">
                              <select style="width:150px;" ng-model="org_id" ng-options="to.id as to.name for to in org">
                                  <option>请选择</option>
                              </select>
                          </div>
                      </div>
                      <div class="control-group" >
                          <label class="control-label" style="margin-left:300px;">OBD编号：</label>
                          <div class="controls">
                              <input type="text" class="span11"  style="width:200px;" ng-model="obd_code"  />
                          </div>
                      </div>
                      <div class="control-group" >
                          <div class="control-group" >
                              <label class="control-label" style="margin-left:300px;">车牌号：</label>
                              <div class="controls">
                                  <input type="text" class="span11" style="width:200px;" ng-model="car_license"/>
                              </div>
                          </div>
                          <label class="control-label" style="margin-left:300px;">车型：</label>
                          <div class="controls">
                              <select style="width:150px;" ng-model="brand_id" ng-options = "brand.id as brand.name for brand in carBrand" ng-change="changeSeries(brand_id)">
                                  <option>请选择</option>
                              </select>
                          </div>
                      </div>
                      <div class="control-group" >
                          <label class="control-label" style="margin-left:300px;">车款：</label>
                          <div class="controls">
                              <select style="width:150px;" ng-model="series_id" ng-options="series.id as series.name for series in carSeries">
                                  <option>请选择</option>
                              </select>
                          </div>
                      </div>
                      <div class="form-actions">
                          <button type="button" class="btn btn-success"  style="margin-left:300px;" ng-click="AddConfirm();">保存</button>
                          <button type="button" class="btn btn-danger"   ng-click="gotoBack(2)">取消</button>
                      </div>
                  </form>
              </div>
          </div>
          <!--添加 end-->
          <!--车主信息列表 begin-->
        <div class="widget-box" ng-show="carOwnerDiv">
          <div class="widget-title">
             <span class="icon"><i class="icon-th"></i></span> 
            <h5>车主列表</h5>
          </div>
            <div class="widget-content nopadding">
                <!--<table class="table table-bordered data-table">-->
                <table class="table table-bordered">
                    <thead>
                    <tr>
                        <th style="vertical-align: middle;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;城市：&nbsp;&nbsp;
                            <select style="width:150px;padding-left:15px;" ng-model="city_name" ng-options="to.name as to.name for to in allCity">
                            <option>请选择</option>
                        </select></th>
                        <th style="vertical-align: middle;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4S店：&nbsp;&nbsp;
                            <select style="width:150px;" ng-model="org_id" ng-options="to.id as to.name for to in org">
                                <option>请选择</option>
                            </select></th>
                        <th style="vertical-align: middle;">车型：&nbsp;&nbsp;&nbsp;
                            <select style="width:150px;" ng-model="brand_id" ng-options = "brand.id as brand.name for brand in carBrand" ng-change="changeSeries(brand_id)">
                            <option>请选择</option>
                        </select></th>
                        <th  style="vertical-align: middle;" rowspan="2"><a class="btn btn-success" style="" ng-click="SearchDriveInfo();">搜索</a></th>
                    </tr>
                    <tr>
                        <th style="vertical-align: middle;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;车主姓名：
                            <input type="text" class="span11" style="width:150px;" placeholder="" ng-model="queryNick"/></th>
                        <th style="vertical-align: middle;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;联系电话：
                            <input type="text" class="span11" style="width:150px;" placeholder="" ng-model="queryPhone"/></th>
                        <th style="vertical-align: middle;">车款：&nbsp;&nbsp;&nbsp;
                            <select style="width:150px;" ng-model="series_id" ng-options="series.id as series.name for series in carSeries">
                            <option>请选择</option>
                        </select></th>
                    </tr>
                    <tr>
                        <td colspan="4" style=""><a class="btn btn-success" style="float:right;margin:3px 30px 0 0;" ng-click="add();">+添加车主</a></td>
                    </tr>
                    </thead>
                </table>
            </div>
          <div class="widget-content nopadding">
            <!--<table class="table table-bordered data-table">-->
            <table class="table table-bordered">
              <thead>
                <tr>
                    <th>帐号</th>
                    <th>姓名</th>
                    <th>电话</th>
                    <th>4S店</th>
                    <th>OBD编号</th>
                    <th>车牌号</th>
                    <th>车型</th>
                    <th>车款</th>
                    <th>操作</th>
                </tr>
              </thead>
              <tbody id="productListBody">
                <tr class="gradeX" ng-repeat="carowner in carowners">
                    <td style="text-align: center">{{carowner.acc_name}}</td>
                    <td style="text-align: center">{{carowner.acc_nick}}</td>
                    <td style="text-align: center">{{carowner.acc_phone}}</td>
                    <td style="text-align: center">{{carowner.org_name}}</td>
                    <td style="text-align: center">{{carowner.obd_code}}</td>
                    <td style="text-align: center">{{carowner.car_license}}</td>
                    <td style="text-align: center">{{carowner.car_brand}}</td>
                    <td style="text-align: center">{{carowner.car_series}}</td>
                    <td style="text-align: center">
                        <a class="btn btn-success btn-info btn-mini" ng-click="modify($index);">修改</a>
                        <a class="btn btn-danger btn-info btn-mini" ng-click="findDetail($index);">查看</a>
                    </td>
                </tr>
              </tbody>
            </table>
          </div>
            <div><font color="red">{{tips}}</font></div>
            <div class="pagination alternate" style="float:right;">
                共{{totalCount}}条&nbsp;当前{{currentPage}}/{{totalPage}} &nbsp;
                跳转至<select style="width:50px;" ng-model="changeId" ng-options="to.size as to.size for to in totalOption"ng-change="changePage(changeId);">
                <option>1</option>
            </select>页
            </div>
        </div>
      </div>
   </div>
</div>
</div>
<div class="row-fluid">
  <div id="footer" class="span12"> 2014 &copy; 英卡</div>
</div>
<script src="../js/jquery.min.js"></script>
<script src="../js/jquery.dataTables.min.js"></script>
<script src="../js/jquery.uniform.js"></script>
<script src="../js/jquery.ui.custom.js"></script>
<script src="../js/bootstrap.min.js"></script>
<script src="../js/select2.min.js"></script>
<script src="../js/maruti.js"></script>
<script src="../js/maruti.tables.js"></script>
<script src="../js/angular.min.js"></script>
<script src="../js/fun_js/common.js"></script>
<script src="../js/fun_js/carownerController.js"></script>
<script src="../js/sha1.js"></script>
</body>
</html>
