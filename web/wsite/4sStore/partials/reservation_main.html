
<!--新申请操作 begin-->
<div class="widget-box margin_16" ng-show="applyOperDiv">
<div class="widget-title">
    <span class="icon"><i class="icon-th"></i></span>
    <h5>保养预约详情</h5>
    <button class="btn btn-success" style="float:right;margin:12px 30px 0 0;" ng-click="cancel(3)">返回</button>
</div>
<div class="widget-content nopadding">
    <table class="table table-bordered">
        <thead>
        <tr>
            <th class="tablestyle-01">车主姓名</th>
            <th class="tablestyle-02">{{careDetail.cust_nick}}</th>
            <th class="tablestyle-01">联系电话
            <th class="tablestyle-02">{{careDetail.cust_phone}}</th>
            <th class="tablestyle-01">车牌号</th>
            <th class="tablestyle-02">{{careDetail.json_args.license}}</th>
        </tr>
        <tr>
            <th class="tablestyle-01">车系</th>
            <th class="tablestyle-02">{{careDetail.series_name}}</th>
            <th class="tablestyle-01">当前里程</th>
            <th class="tablestyle-02"></th>
            <th class="tablestyle-01">申请渠道</th>
            <th class="tablestyle-02">微信预约</th>
        </tr>
        <tr>
            <th class="tablestyle-01">申请提交时间</th>
            <th class="tablestyle-02">{{careDetail.created_time}}</th>
            <th class="tablestyle-01">预约保养时间</th>
            <th class="tablestyle-02">{{careDetail.working_time}}</th>
            <th colspan="2" class="tablestyle-01" ng-show="newApplyOper"><button class='btn btn-success'  ng-click='OperationChild("approve");'>确认</button>&nbsp;&nbsp;&nbsp;<button class='btn btn-success'  ng-click='OperationChild("reject");'>拒绝</button></th>
            <th colspan="2" class="tablestyle-01" ng-show="completeOper"><button class='btn btn-success'  ng-click='OperationChild("cancel");'>取消</button>&nbsp;&nbsp;&nbsp;
                                                         <button class='btn btn-success'  ng-click='OperationChild("abort")'>未到店</button>&nbsp;&nbsp;&nbsp;
                                                         <button class='btn btn-success'  ng-click='OperationChild("done")'>已完成</button></th>
            <th ng-show="reservationProTi" class="tablestyle-01">保养项目</th>
            <th ng-show="reservationProTe" class="tablestyle-02">{{done_items}}</th>
            <th ng-show="cancelTimeTi" class="tablestyle-01">取消时间</th>
            <th ng-show="cancelTimeTe" class="tablestyle-02">{{cancelTime}}</th>
            <th ng-show="colspanTh" colspan="2" class="tablestyle-02"></th>
        </tr>
        <tr ng-show="diffDiv">
            <th class="tablestyle-01">拒绝原因</th>
            <th class="tablestyle-02" colspan='5' rowspan='2'>{{reason}}</th>
        </tr>
        <tr ng-show="completeTr">
            <th class="tablestyle-01">保养费用</th>
            <th class="tablestyle-02">{{done_cost}}</th>
            <th class="tablestyle-01">保养日期</th>
            <th class="tablestyle-02">{{done_btime}}</th>
            <th colspan="2" class="tablestyle-02"></th>
        </tr>
        </thead>
    </table>
</div>
    <div class="widget-content mar_t_14" ng-show="rejectReason">
        <form class="form-horizontal formstyle_box03">
            <div class="" >
                <label class="control-label pad_l20 w_100">原因</label>
                <div class="controls pad_t_b_10">
                    <textarea ng-model="jj_reason" style="width:300px;"></textarea>
                </div>
            </div>
            <div class="clearfix"></div>
            <!--button_box01 start-->
            <div class="button_box01">
                <button type="button" style="margin-right:40px;"  class="btn btn-large btn-success" ng-click="confirm(2);">确&nbsp;&nbsp;定</button>
                <button type="button"  class="btn btn-large btn-danger"   ng-click="cancel(2)">取&nbsp;&nbsp;消</button>
            </div><!--button_box01 start-->
        </form>
    </div>
    <div class="widget-content mar_t_14" ng-show="ReservationInfo">
        <form class="form-horizontal formstyle_box03">
            <div class="" >
                <label class="control-label pad_l20 w_100">保养项目：</label>
                <div class="controls pad_t_b_10">
                    <input type="text"  class="span11"  ng-model="care_items" style="width:300px;" />
                </div>
            </div>
            <div class="control-group w_44 fl" >
                <label class="control-label pad_l20 w_100">保养费用：</label>
                <div class="controls pad_t_b_10">
                    <input type="text"  class="span11"  ng-model="care_cost" style="width:300px;" />
                </div>
            </div>
            <div class="control-group w_44 fl" >
                <label class="control-label pad_l20 w_100">保养日期：</label>
                <div class="controls pad_t_b_10">
                    <input type="text"  class="span11"  ng-model="begin_time" style="width:300px;" />
                </div>
            </div>
            <div class="clearfix"></div>
            <!--button_box01 start-->
            <div class="button_box01">
                <button type="button" style="margin-right:40px;"  class="btn btn-large btn-success" ng-click="confirm(1);">确&nbsp;&nbsp;定</button>
                <button type="button"  class="btn btn-large btn-danger"   ng-click="cancel(1)">取&nbsp;&nbsp;消</button>
            </div><!--button_box01 start-->
        </form>
    </div>
</div>
<!--新申请操作 end-->
<!--添加预约 start-->
<div class="widget-box margin_16" ng-show="reserAddDiv">
<div class="widget-title">
    <span class="icon"><i class="icon-th"></i></span>
    <h5>添加预约</h5>
</div>
<div class="widget-content nopadding">
    <form action="#" method="get" class="form-horizontal">
<div class="control-group" >
    <label class="control-label" style="margin-left:300px;">车主姓名：</label>
    <div class="controls">
        <input type="text" class="span11" style="width:200px;" ng-model="cust_nick"/>
    </div>
</div>
<div class="control-group" >
    <label class="control-label" style="margin-left:300px;">联系电话：</label>
    <div class="controls">
        <input type="text" class="span11" style="width:200px;" ng-model="cust_phone"/>
    </div>
</div>
        <div class="control-group" >
            <label class="control-label" style="margin-left:300px;">品牌：</label>
            <div class="controls">
                <select style="width:200px;" ng-model="brand_id" ng-options = "brand.id as brand.name for brand in carBrand" ng-change="changeSeries(brand_id)">
                    <option>请选择</option>
                </select>
            </div>
        </div>
        <div class="control-group" >
            <label class="control-label" style="margin-left:300px;">车型：</label>
            <div class="controls">
                <select style="width:200px;" ng-model="series_id" ng-options="series.id as series.name for series in carSeries">
                    <option>请选择</option>
                </select>
            </div>
        </div>
        <div class="control-group" >
            <label class="control-label" style="margin-left:300px;">预约时间：</label>
            <div class="controls">
                <input type="text" class="span11" style="width:200px;" ng-model="working_time"/>
            </div>
        </div>
        <div class="form-actions">
            <button type="button" class="btn btn-success"  style="margin-left:300px;" ng-click="addConfirm();">确定</button>
            <button type="button" class="btn btn-danger"   ng-click="cancel(3);">取消</button>
        </div>
    </form>
</div>
</div>
<!--添加预约 end-->
<!--预约服务列表 begin-->
<div class="widget-box margin_16" ng-show="reservationDiv">
<div class="widget-title">
    <span class="icon"><i class="icon-th"></i></span>
    <h5>保养预约列表</h5>
  <!--  <a class="btn btn-success" style="float:right;margin:3px 30px 0 0;" ng-click="add();">+添加预约</a>-->
</div>
<div class="widget-content nopadding table_widget_bg">
    <table class="table table-bordered">
        <thead>
        <tr>
            <th style="vertical-align: middle;">车主姓名：
                <input type="text" style="width:150px;" ng-model="ownerNick">
            </th>
            <th style="vertical-align: middle;">车牌号：
                <input type="text" style="width:150px;" ng-model="ownerLicense">
            </th>
            <th style="vertical-align: middle;">预约时间：
                <input type="text" style="width:150px;" ng-model="work_time_begin">
            </th>
            <th  style="vertical-align: middle;"><button class="btn btn-success" style="" ng-click="SearchDriveInfo()">搜索</button></th>
        </tr>
        </thead>
    </table>
</div>
<div class="widget-content nopadding">
    <table class="table table-bordered">
        <thead>
        <tr class="bgcolor01">
            <th>车主</th>
            <th>联系电话</th>
            <th>系列</th>
            <th>车牌号</th>
            <th>来源渠道</th>
            <th>申请时间</th>
            <th>操作时间</th>
            <th>操作人</th>
            <th>状态</th>
            <th>操作</th>
        </tr>
        </thead>
        <tbody >
        <tr class="gradeX" ng-repeat="mt in careList">
            <td style="text-align: center">{{mt.cust_nick}}</td>
            <td style="text-align: center">{{mt.cust_phone}}</td>
            <td style="text-align: center">{{mt.series_name}}</td>
            <td style="text-align: center">{{mt.json_args.license}}</td>
            <td style="text-align: center">微信</td>
            <td style="text-align: center">{{mt.working_time}}</td>
            <td style="text-align: center">{{mt.updated_time}}</td>
            <td style="text-align: center">{{mt.json_args.oper}}</td>
            <td style="text-align: center">{{mt.step}}</td>
            <td style="text-align: center"><input type="button" class="btn btn-info btn-mini" value="查看" ng-click="Operation($index,mt.step);"></a></td>
        </tr>
        </tbody>
    </table>
</div>
  <div><font color="red">{{tips}}</font></div>
  <div class="pagination alternate" style="float:right;">
      共{{totalCount}}条&nbsp;页码{{currentPage}}/{{totalPage}} &nbsp;
      跳转至<select style="width:50px;" ng-model="changeId" ng-options="to.size as to.size for to in totalOption"ng-change="changePage(changeId);">
      <option>1</option>
   </select>页
  </div>
</div>
<!--预约服务列表 end-->
