<div id="content">
    <div id="content-header">
        <div id="breadcrumb"> <a href="index.html" title="Go to Home" class="tip-bottom"><i class="icon-home"></i>首页</a> <a href="customerManage.html" class="">客户管理</a></div>
    </div>
    <div class="container-fluid">
     <div class="row-fluid" >
    <div style="width: 10%;float: left;margin: 2px">
        <div class="accordion" id="collapse-group">
            <div class="accordion-group widget-box">
                <div class="accordion-heading">
                    <div class="widget-title"> <a  href="#collapseGOne" data-toggle="collapse" class="collapsed" ng-click="customerTab(0);"> <span class="icon"><i class="icon-align-justify"></i></span>
                        <h5>全部车主</h5>
                    </a> </div>
                </div>
            </div>
            <div class="accordion-group widget-box" style="margin-top: 2px">
                <div class="accordion-heading">
                    <div class="widget-title"> <a data-parent="#collapse-group" href="#collapseGTwo" data-toggle="collapse"> <span class="icon"><i class="icon-certificate"></i></span>
                        <h5 >微信车主</h5>
                    </a> </div>
                </div>
                <!--<div class="collapse accordion-body" id="collapseGTwo">
                    <div class="widget-content" style="text-align: right;padding: 0">
                        <button class="btn btn-info" style="width: 100%;">A组</button>
                        <button class="btn btn-info" style="width: 100%;">B组</button>
                        <button class="btn btn-info" style="width: 100%;">C组</button>
                        <button class="btn btn-info" style="width: 100%;">D组</button>
                    </div>
                </div>-->
            </div>
            <div class="accordion-group widget-box" style="margin-top: 2px">
                <div class="accordion-heading">
                    <div class="widget-title"> <a data-parent="#collapse-group" href="#collapseGThree" data-toggle="collapse"> <span class="icon"><i class="icon-globe"></i></span>
                        <h5 >APP车主</h5>
                    </a> </div>
                </div>
            </div>
        </div>
    </div>
<div class="container-fluid" style="width: 86%;float: left">
    <div class="row-fluid" >
        <div class="span12">
            <div class="widget-box" ng-show="cusDetailDiv">
                <div class="widget-title">
                    <span class="icon"><i class="icon-th"></i></span>
                    <h5>客户详情</h5>
                </div>
                <div class="widget-content nopadding">
                    <table class="table table-bordered ">
                        <thead>
                        <tr>
                            <th>车主姓名</th>
                            <th style="background-color:#F9F9F9;">{{cusDetail.acc_nick}}</th>
                            <th>联系电话</th>
                            <th style="background-color:#F9F9F9;">{{cusDetail.acc_phone}}</th>
                            <th>OBD编号</th>
                            <th style="background-color:#F9F9F9;">{{cusDetail.obd_code}}</th>
                        </tr>
                        <tr>
                            <th>车型</th>
                            <th style="background-color:#F9F9F9;">{{cusDetail.car_brand}}</th>
                            <th>车款</th>
                            <th style="background-color:#F9F9F9;">{{cusDetail.car_series}}</th>
                            <th>车牌号</th>
                            <th style="background-color:#F9F9F9;">{{cusDetail.car_license}}</th>
                        </tr>
                        </thead>
                    </table>
                </div>
            </div>
            <div class="widget-box" ng-show="cusTabDiv">
                <div class="widget-title">
                    <ul class="nav nav-tabs">
                        <li class="active"><a data-toggle="tab"  ng-click="detailTab(1)">保养记录</a></li>
                        <li><a data-toggle="tab"  ng-click="detailTab(2)">维修记录</a></li>
                        <li><a data-toggle="tab"  ng-click="detailTab(3)">关怀记录</a></li>
                        <li><a data-toggle="tab" ng-click="detailTab(4)">保险信息</a></li>
                        <li><a data-toggle="tab"  ng-click="detailTab(5)">行车记录</a></li>
                        <li><a data-toggle="tab"  ng-click="detailTab(6)">分组</a></li>
                    </ul>
                </div>
                <div class="widget-content tab-content">
                    <div id="tab1" class="tab-pane active">
                        <table class="table table-bordered data-table">
                            <thead>
                            <tr>
                                <th>保养时间</th>
                                <th>保养来源</th>
                                <th>保养里程</th>
                                <th>保养类型</th>
                                <th>保养费用(RMB)</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr class="gradeX" ng-repeat="cl in careList">
                                <td id="tdc">{{cl.working_time}}</td>
                                <td id="tdc">微信</td>
                                <td id="tdc"></td>
                                <td id="tdc">{{cl.json_args.care_items}}</td>
                                <td id="tdc">{{cl.json_args.care_cost}}</td>
                            </tr>
                            </tbody>
                        </table>
                        <div><font color="red">{{tips}}</font></div>
                        <div class="pagination alternate" style="float:right;">
                            共{{totalCount}}条&nbsp;当前{{currentPage}}/{{totalPage}} &nbsp;
                            跳转至<select style="width:50px;" ng-model="changeId" ng-options="to.size as to.size for to in totalOption"ng-change="changePage(changeId);">
                            <option>1</option>
                        </select>页
                        </div>
                    </div>
                    <div id="tab2" class="tab-pane">
                        <table class="table table-bordered data-table">
                            <thead>
                            <tr>
                                <th>ID</th>
                                <th>维修时间</th>
                                <th>维修来源</th>
                                <th>维修项目</th>
                                <th>维修里程</th>
                                <th>维修费用</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr class="gradeX">
                                <td id="tdc">1</td>
                                <td id="tdc">2013/03/08 13:00</td>
                                <td id="tdc">微信</td>
                                <td id="tdc">喷漆</td>
                                <td id="tdc">50000公里</td>
                                <td id="tdc">3000</td>
                            </tr>
                            <tr class="gradeX">
                                <td id="tdc">2</td>
                                <td id="tdc">2013/10/08 12:00</td>
                                <td id="tdc">微信</td>
                                <td id="tdc">换胎</td>
                                <td id="tdc">10982公里</td>
                                <td id="tdc">200</td>
                            </tr>
                            <tr class="gradeX">
                                <td id="tdc">3</td>
                                <td id="tdc">2014/03/08 19:00</td>
                                <td id="tdc">微信</td>
                                <td id="tdc">换方向盘</td>
                                <td id="tdc">23092公里</td>
                                <td id="tdc">500</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <div id="tab3" class="tab-pane">
                        <table class="table table-bordered data-table">
                            <thead>
                            <tr>
                                <th>关怀时间</th>
                                <th>关怀类类别</th>
                                <th>关怀里程</th>
                                <th>关怀周期</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr class="gradeX" ng-repeat="rl in recordList">
                                <td id="tdc">{{rl.care_time}}</td>
                                <td id="tdc">保养关怀</td>
                                <td id="tdc">{{rl.care_mileage}}</td>
                                <td id="tdc">{{rl.care_hour}}</td>
                            </tr>
                            </tbody>
                        </table>
                        <div><font color="red">{{tips}}</font></div>
                        <div class="pagination alternate" style="float:right;">
                            共{{totalCount}}条&nbsp;当前{{currentPage}}/{{totalPage}} &nbsp;
                            跳转至<select style="width:50px;" ng-model="changeId" ng-options="to.size as to.size for to in totalOption"ng-change="changePage(changeId);">
                            <option>1</option>
                        </select>页
                        </div>
                    </div>
                    <div id="tab4" class="tab-pane">
                        正在开发中...
                    </div>
                    <div id="tab5" class="tab-pane">
                        <table class="table table-bordered" ng-show="driveDiv">
                            <thead>
                            <tr>
                                <th>OBD编号</th>
                                <th>win码</th>
                                <th>品牌</th>
                                <th>系列</th>
                                <th>年款</th>
                                <th>点火电压</th>
                                <th>发动机运行时间</th>
                                <th>行驶里程</th>
                                <th>本次驾驶平均油耗</th>
                                <th>超速行驶时间(>120km/h)</th>
                                <th>急加速</th>
                                <th>急减速</th>
                                <th>急转弯</th>
                                <th>熄火电压</th>
                                <th>累计平均油耗</th>
                                <th>累计行驶里程</th>
                                <th>熄火后电压</th>
                                <th>状态</th>
                                <th>点火时间</th>
                                <th>熄火时间</th>
                                <th>操作</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr class="gradeX" ng-repeat="device in drvInfos">
                                <td id="tdc">{{device.obdCode}}</td>
                                <td id="tdc">{{device.vin}}</td>
                                <td id="tdc">{{device.brand_name}}</td>
                                <td id="tdc">{{device.series_name}}</td>
                                <td id="tdc">{{device.modelYear}}</td>
                                <td id="tdc">{{device.firingVoltage}}</td>
                                <td id="tdc">{{device.runTime}}</td>
                                <td id="tdc">{{device.currentMileage}}</td>
                                <td id="tdc">{{device.currentAvgOilUsed}}</td>
                                <td id="tdc">{{device.speedingTime}}</td>
                                <td id="tdc">{{device.speedUp}}</td>
                                <td id="tdc">{{device.speedDown}}</td>
                                <td id="tdc">{{device.sharpTurn}}</td>
                                <td id="tdc">{{device.flameVoltage}}</td>
                                <td id="tdc">{{device.avgOilUsed}}</td>
                                <td id="tdc">{{device.mileage}}</td>
                                <td id="tdc">{{device.voltageAfter}}</td>
                                <td id="tdc">{{device.carStatus}}</td>
                                <td id="tdc">{{device.fireTime}}</td>
                                <td id="tdc">{{device.flameOutTime}}</td>
                                <td id="tdc">
                                    <a class="btn btn-info btn-mini" ng-click="GetDriveDetail(device.obdCode,device.id);">查看</a>
                                </td>
                            </tr>
                            </tbody>
                        </table>

                        <!--一次行车数据 begin-->
                        <table class="table table-bordered" ng-show="oneDetailDiv">
                            <thead>
                            <tr >
                                <th style="text-align: right" colspan="6"><a ng-click="gotoBack(1);" class="btn btn-info btn-mini">返回</a></th>
                            </tr>
                            <tr >
                                <th>OBD设备编号</th>
                                <th>行驶编号</th>
                                <th>累计平均油耗</th>
                                <th>累计行驶里程</th>
                                <th>创建时间</th>
                                <th>操作</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr class="gradeX" ng-repeat="device in details">
                                <td id="tdc">{{device.obdCode}}</td>
                                <td id="tdc">{{device.id}}</td>
                                <td id="tdc">{{device.avgOilUsed}}</td>
                                <td id="tdc">{{device.mileage}}</td>
                                <td id="tdc">{{device.createTime}}</td>
                                <td id="tdc"><a class="btn btn-info btn-mini" ng-click="GetOneMinuteDetail($index);">详细数据</a></td>
                            </tr>
                            </tbody>
                        </table>
                        <!--一个行车数据 end-->
                    <!--一分钟数据流 begin-->
                    <table class="table table-bordered" ng-show="oneMinuteDetailDiv">
                        <thead>
                        <tr >
                            <th style="text-align: right" colspan="3"><a ng-click="gotoBack(2);" class="btn btn-info btn-mini">返回</a></th>
                        </tr>
                        <tr >
                            <th>ID</th>
                            <th>参数</th>
                            <th>值</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr class="gradeX" ng-repeat="omdd in omdds">
                            <td id="tdc">{{omdd.id}}</td>
                            <td id="tdc">{{omdd.tip}}</td>
                            <td id="tdc">{{omdd.value}}</td>
                        </tr>
                        </tbody>
                    </table>
                    <!--一分钟数据流 end-->
                    <div class="pagination alternate" style="float:right;" ng-show="paging1">
                        共{{totalCount}}条&nbsp;当前{{currentPage}}/{{totalPage}} &nbsp;
                        跳转至<select style="width:50px;" ng-model="changeId" ng-options="to.size as to.size for to in totalOption" ng-change="changePage(changeId,3);">
                        <option>1</option>
                    </select>页
                   </div>
                    <div class="pagination alternate" style="float:right;" ng-show="paging2">
                        共{{totalCount}}条&nbsp;当前{{currentPage}}/{{totalPage}} &nbsp;
                        跳转至<select style="width:50px;" ng-model="changeId" ng-options="to.size as to.size for to in totalOption" ng-change="changePage(changeId,2);">
                        <option>1</option>
                    </select>页
                    </div>
                    </div>
                    <div id="tab6" class="tab-pane">
                        正在开发中...
                    </div>
                    </div>
                </div>

            <!--客户 begin-->
            <div class="widget-box" ng-show="cusListDiv">
                <div class="widget-title">
                    <span class="icon"><i class="icon-th"></i></span>
                    <h5>客户列表</h5>
                </div>
                <div class="widget-content nopadding">
                    <!--<table class="table table-bordered data-table">-->
                    <table class="table table-bordered">
                        <thead>
                        <tr>
                            <th style="vertical-align: middle;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;车主姓名： &nbsp;&nbsp;&nbsp;
                                <input type="text" class="span11" style="width:150px;" placeholder="" ng-model="queryNick"/></th>
                            <th style="vertical-align: middle;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;车型：&nbsp;&nbsp;&nbsp;
                                <select style="width:150px;" ng-model="brand_id" ng-options = "brand.id as brand.name for brand in carBrand" ng-change="changeSeries(brand_id)">
                                   <option>请选择</option>
                                </select></th>
                            <th style="vertical-align: middle;">车款：&nbsp;&nbsp;&nbsp;
                                <select style="width:150px;" ng-model="series_id" ng-options="series.id as series.name for series in carSeries">
                                  <option>请选择</option>
                                </select></th>
                        </tr>
                        <tr>
                            <th style="vertical-align: middle;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OBD编号： &nbsp;&nbsp;&nbsp;
                                <input type="text" class="span11" style="width:150px;" placeholder="" ng-model="queryOBDCode"/>
                            </th>
                            <th style="vertical-align: middle;">&nbsp;&nbsp;&nbsp;&nbsp;联系电话：
                                <input type="text" class="span11" style="width:150px;" placeholder="" ng-model="queryPhone"/>
                            </th>
                            <th  style="vertical-align: middle;">

                                <a class="btn btn-success" style="" ng-click="SearchDriveInfo();">搜索</a></th>
                        </tr>
                        </thead>
                    </table>
                </div>
                <div class="widget-content nopadding">
                    <!--<table class="table table-bordered data-table">-->
                    <table class="table table-bordered">
                        <thead>
                        <tr>
                            <th>车主姓名</th>
                            <th>联系电话</th>
                            <th>车型</th>
                            <th>车款</th>
                            <th>OBD编号</th>
                            <th>上次联系时间</th>
                            <th>上次联系内容</th>
                            <th>操作</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr class="gradeX" ng-repeat="carowner in carowners">
                            <td style="text-align: center">{{carowner.acc_nick}}</td>
                            <td style="text-align: center">{{carowner.acc_phone}}</td>
                            <td style="text-align: center">{{carowner.car_brand}}</td>
                            <td style="text-align: center">{{carowner.car_series}}</td>
                            <td style="text-align: center">{{carowner.obd_code}}</td>
                            <td style="text-align: center">2014-04-15 13:00</td>
                            <td style="text-align: center">保养提醒</td>
                            <td style="text-align: center">
                                <a class="btn btn-info btn-mini" ng-click="customerDetail($index)">查看</a>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div><font color="red">{{tips}}</font></div>
                <div class="pagination alternate" style="float:right;">
                    共{{totalCount}}条&nbsp;页码{{currentPage}}/{{totalPage}} &nbsp;
                    跳转至<select style="width:50px;" ng-model="changeId" ng-options="to.size as to.size for to in totalOption"ng-change="changePage(changeId,1);">
                    <option>1</option>
                </select>页
                </div>
            </div>
            <!--保养提醒列表 end-->
        </div>
    </div>
</div>
</div>
</div>
</div>