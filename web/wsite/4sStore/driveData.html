<!DOCTYPE html>
<html lang="en" ng-app="DriveDataApp">
<head>
    <title>4S店管理系统</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../css/bootstrap.min.css" />
    <link rel="stylesheet" href="../css/bootstrap-responsive.min.css" />
    <link rel="stylesheet" href="../css/uniform.css" />
    <link rel="stylesheet" href="../css/select2.css" />
    <link rel="stylesheet" href="../css/maruti-style.css" />
    <link rel="stylesheet" href="../css/maruti-media.css" class="skin-color" />
    <link rel="stylesheet" type="text/css" href="../css/mycss/main.css" />
</head>
<body ng-controller="driveDataCtrl">
<!--Header-part-->
<div id="header">
    <h1>4S店运营平台</h1>
</div>
<!--close-Header-part-->

<!--top-Header-messaages-->
<div class="btn-group rightzero"> <a class="top_message tip-left" title="Manage Files"><i class="icon-file"></i></a> <a class="top_message tip-bottom" title="Manage Users"><i class="icon-user"></i></a> <a class="top_message tip-bottom" title="Manage Comments"><i class="icon-comment"></i><span class="label label-important">5</span></a> <a class="top_message tip-bottom" title="Manage Orders"><i class="icon-shopping-cart"></i></a> </div>
<!--close-top-Header-messaages-->

<!--top-Header-menu-->
<div id="user-nav" class="navbar navbar-inverse">
    <ul class="nav">
        <li style="color:white;vertical-align:middle; margin-top: 15px;"><span class="text">{{nickName}}</span></li>
        <li class=""><a title="" href="../login.html"><i class="icon icon-share-alt"></i> <span class="text">Logout</span></a></li>
    </ul>
</div>
<!--close-top-Header-menu-->

<div id="sidebar"><a href="#" class="visible-phone"><i class="icon icon-home"></i>运营后台</a>
    <ul>
        <li class="active"><a href="index.html" target="_parent"><i class="icon icon-home"></i> <span>首页</span></a> </li>
        <li><a href="reservationService.html" target="_parent"><i class="icon icon-th"></i> <span>服务预约</span></a></li>
        <li > <a href="maintainInfo.html" target="_parent"><i class="icon icon-file"></i> <span>提醒信息</span></a>
        </li>
        <li> <a href="customerManage.html" target="_parent"><i class="icon icon-inbox"></i> <span>客户管理</span></a> </li>
        <li><a href="creating.html" target="_parent"><i class="icon icon-tint"></i> <span>精品商城</span></a></li>
        <li> <a href="activityInfo.html" target="_parent"><i class="icon icon-pencil"></i> <span>活动发布</span></a> </li>
        <li><a href="driveData.html" target="_parent"><i class="icon icon-fullscreen"></i> <span>行车数据</span></a></li>
        <li> <a href="creating.html" target="_parent"><i class="icon icon-th-list"></i> <span>分析报表</span></a></li>
    </ul>
</div>
<div id="content" >
  <div id="content-header">
      <div id="breadcrumb"> <a href="#" title="Go to Home" class="tip-bottom"><i class="icon-home"></i>主页</a> <a href="driveData.html?token={{token}}" class="current">行车数据</a> </div>
  </div>
  <div class="container-fluid">
  	<div class="row-fluid" >
      <div class="span12">
          <!--一次行程数据详情 start-->
          <div class="widget-box" ng-show="oneDetailDiv">
              <div class="widget-title">
                  <span class="icon"><i class="icon-th"></i></span>
                  <h5>行程数据</h5>
                  <a class="btn btn-success" style="float:right;margin:3px 30px 0 0;" ng-click="gotoBack(1)" >返回</a>
              </div>
              <div class="widget-content nopadding">
                  <table class="table table-bordered ">
                      <thead>
                      <tr>
                          <th>OBD编号</th>
                          <th style="background-color:#F9F9F9;">{{chooseOC}}</th>
                          <th>SIM卡号</th>
                          <th style="background-color:#F9F9F9;">{{deviceDetail.sim_number}}</th>
                          <th>状态</th>
                          <th style="background-color:#F9F9F9;">{{deviceDetail.act_type}}</th>
                      </tr>
                      <tr>
                          <th>所属4S店</th>
                          <th style="background-color:#F9F9F9;"></th>
                          <th>品牌</th>
                          <th style="background-color:#F9F9F9;">{{deviceDetail.brand}}</th>
                          <th>车款</th>
                          <th style="background-color:#F9F9F9;">{{deviceDetail.series}}</th>
                      </tr>
                      <tr>
                          <th>城市</th>
                          <th style="background-color:#F9F9F9;">{{deviceDetail.city}}</th>
                          <th>车主</th>
                          <th style="background-color:#F9F9F9;">{{deviceDetail.nick}}</th>
                          <th>联系电话</th>
                          <th style="background-color:#F9F9F9;">{{deviceDetail.phone}}</th>
                      </tr>
                      </thead>
                  </table>
              </div>
              <div class="widget-content nopadding">
                  <!--<table class="table table-bordered data-table">-->
                  <table class="table table-bordered">
                     <thead>
                          <tr >
                              <th>OBD设备编号</th>
                              <th>行驶编号</th>
                              <th>累计平均油耗</th>
                              <th>累计行驶里程</th>
                              <th>创建时间</th>
                              <th>操作</th>
                          </tr>
                      </thead>
                      <tbody>
                          <tr class="gradeX" ng-repeat="device in details">
                              <td id="tdc">{{device.obdCode}}</td>
                              <td id="tdc">{{device.id}}</td>
                              <td id="tdc">{{device.avgOilUsed}}</td>
                              <td id="tdc">{{device.mileage}}</td>
                              <td id="tdc">{{device.createTime}}</td>
                              <td id="tdc"><a class="btn btn-info btn-mini" ng-click="GetOneMinuteDetail($index);">详细数据</a></td>
                          </tr>
                      </tbody>
                  </table>
              </div>
              <div class="pagination alternate" style="float:right;">
                  共{{totalCount}}条&nbsp;当前{{currentPage}}/{{totalPage}} &nbsp;
                  跳转至<select style="width:50px;" ng-model="changeId" ng-options="to.size as to.size for to in totalOption"ng-change="changePage(changeId,2);">
                  <option>1</option>
              </select>页
              </div>
          </div>
          <!--一次行车数据详情 end-->
          <!--一分钟行车数据详情 start-->
          <div class="widget-box" ng-show="oneMinuteDetailDiv">
              <div class="widget-title">
                  <span class="icon"><i class="icon-th"></i></span>
                  <h5>数据流记录</h5>
                  <a class="btn btn-success" style="float:right;margin:3px 30px 0 0;" ng-click="gotoBack(2)" >返回</a>
              </div>
              <div class="widget-content nopadding">
                  <!--<table class="table table-bordered data-table">-->
                  <table class="table table-bordered">
                      <thead>
                      <tr >
                          <th>ID</th>
                          <th>参数</th>
                          <th>值</th>
                      </tr>
                      </thead>
                      <tbody>
                      <tr class="gradeX" ng-repeat="omdd in omdds">
                          <td id="tdc">{{omdd.id}}</td>
                          <td id="tdc">{{omdd.tip}}</td>
                          <td id="tdc">{{omdd.value}}</td>
                      </tr>
                      </tbody>
                  </table>
              </div>
          </div>
          <!--一分钟行车数据详情 end-->
          <!--行车数据列表 start-->
        <div class="widget-box" ng-show="driveDiv">
          <div class="widget-title">
             <span class="icon"><i class="icon-th"></i></span> 
            <h5>行车数据列表</h5>
          </div>
            <div class="widget-content nopadding">
                <!--<table class="table table-bordered data-table">-->
                <table class="table table-bordered">
                    <thead>
                    <tr>
                        <th style="vertical-align: middle;">OBD编号： &nbsp;&nbsp;&nbsp;
                            <input type="text" class="span11" placeholder="12位OBD编号" style="width:150px;" ng-model="obd_num"/></th>
                        <th style="vertical-align: middle;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;城市： &nbsp;&nbsp;&nbsp;
                            <select style="width:150px;padding-left:15px;" ng-model="city_name" ng-options="to.name as to.name for to in city">
                             <option>请选择</option>
                            </select></th>
                        <th style="vertical-align: middle" ><button type="submit" class="btn btn-success" ng-click="SearchDriveInfo();">搜索</button></th>
                    </tr>
                   <!-- <tr>
                        <th style="vertical-align: middle;">联系电话：&nbsp;&nbsp;&nbsp;<input type="text" class="span11" placeholder="联系电话" style="width:150px;"/></th>
                        <th style="vertical-align: middle;">系列：&nbsp;&nbsp;&nbsp;<select style="width:150px;">
                            <option>请选择</option>
                            <option>福特E350</option>
                        </select></th>
                    </tr>-->
                   <!-- <tr>
                        <th style="vertical-align: middle;">监测日期： &nbsp;&nbsp;&nbsp;
                        <div  data-date="12-02-2012" class="input-append date datepicker">
                            <input type="text" value="12-02-2012"  data-date-format="mm-dd-yyyy" class="span11" >
                            <span class="add-on"><i class="icon-th"></i></span>
                         </div></th>
                        <th></th>
                        <th></th>
                    </tr>-->
                    </thead>
                </table>
               </div>
            <div class="widget-content nopadding " >
                <!--<table class="table table-bordered data-table">-->
                <table class="table table-bordered">
                    <thead>
                    <tr>
                        <th>OBD编号</th>
                        <th>win码</th>
                        <th>品牌</th>
                        <th>系列</th>
                        <th>年款</th>
                        <th>点火电压</th>
                        <th>发动机运行时间</th>
                        <th>行驶里程</th>
                        <th>本次驾驶平均油耗</th>
                        <th>超速行驶时间(>120km/h)</th>
                        <th>急加速</th>
                        <th>急减速</th>
                        <th>急转弯</th>
                        <th>熄火电压</th>
                        <th>累计平均油耗</th>
                        <th>累计行驶里程</th>
                        <th>熄火后电压</th>
                        <th>状态</th>
                        <th>点火时间</th>
                        <th>熄火时间</th>
                        <th>操作</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr class="gradeX" ng-repeat="device in drvInfos">
                        <td id="tdc">{{device.obdCode}}</td>
                        <td id="tdc">{{device.vin}}</td>
                        <td id="tdc">{{device.brand_name}}</td>
                        <td id="tdc">{{device.series_name}}</td>
                        <td id="tdc">{{device.modelYear}}</td>
                        <td id="tdc">{{device.firingVoltage}}</td>
                        <td id="tdc">{{device.runTime}}</td>
                        <td id="tdc">{{device.currentMileage}}</td>
                        <td id="tdc">{{device.currentAvgOilUsed}}</td>
                        <td id="tdc">{{device.speedingTime}}</td>
                        <td id="tdc">{{device.speedUp}}</td>
                        <td id="tdc">{{device.speedDown}}</td>
                        <td id="tdc">{{device.sharpTurn}}</td>
                        <td id="tdc">{{device.flameVoltage}}</td>
                        <td id="tdc">{{device.avgOilUsed}}</td>
                        <td id="tdc">{{device.mileage}}</td>
                        <td id="tdc">{{device.voltageAfter}}</td>
                        <td id="tdc">{{device.carStatus}}</td>
                        <td id="tdc">{{device.fireTime}}</td>
                        <td id="tdc">{{device.flameOutTime}}</td>
                        <td id="tdc">
                            <a class="btn btn-info btn-mini" ng-click="GetDriveDetail(device.obdCode,device.id);">查看</a>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div><font color="red">{{tips}}</font></div>
            <div class="pagination alternate" style="float:right;">
                共{{totalCount}}条&nbsp;当前{{currentPage}}/{{totalPage}} &nbsp;
                跳转至<select style="width:50px;" ng-model="changeId" ng-options="to.size as to.size for to in totalOption" ng-change="changePage(changeId,1);">
                <option>1</option>
            </select>页
            </div>
        </div>
          <!--行车数据列表 end-->
      </div>
   </div>
</div>
</div>
<div class="row-fluid">
    <div id="footer" class="span12"> 2014 &copy; 英卡</div>
</div>
<script src="../js/fun_js/common.js"></script>
<script src="../js/jquery.min.js"></script>
<script src="../js/jquery.cookie.js"></script>
<script src="../js/jquery.dataTables.min.js"></script>
<script src="../js/jquery.uniform.js"></script>
<script src="../js/jquery.ui.custom.js"></script>
<script src="../js/bootstrap.min.js"></script>
<script src="../js/select2.min.js"></script>
<script src="../js/maruti.js"></script>
<script src="../js/maruti.tables.js"></script>
<script src="../js/angular.min.js"></script>
<script src="../js/fun_js/S_drivedataController.js"></script>
</body>
</html>
